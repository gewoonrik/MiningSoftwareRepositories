  is not working with rails 4  i'm going through michael hartl's ruby on rails tutorial, and i have problem with running   with my application. i've searched google to fix this error but i wasn't able to find anything helpful. can some explain me why is this error occuring?    here you can see the error:     nomethoderror in staticpages#home  showing /home/mateusz/pulpit/sample_app/app/views/layouts/application.html.erb where line #5 raised:  undefined method `environment' for nil:nilclass   (in /home/mateusz/pulpit/sample_app/app/assets/stylesheets/custom.css.scss)  extracted source (around line #5):    html   head   title  %= full_title(yield(:title)) %  /title   %= stylesheet_link_tag "application", media: "all", "data-turbolinks-track" =  true %   %= javascript_include_tag "application", "data-turbolinks-track" =  true %   !--[if lt ie 9]   script src=" "  /script       here you have home.html.erb      div class="center hero-unit"       h1 welcome to the sample app /h1        h2          this is the home page for the          a href=" " ruby on rails tutorial /a          sample application.      /h2        %= link_to "sign up now!", '#', class: "btn btn-large btn-primary" %   /div      %= link_to image_tag("rails.png", alt: "rails"), '  %       and also custom.css.scss     @import " ";      gemfile:     source '  '2.0.0' #ruby-gemset=railstutorial_rails_4_0 gem 'rails', '4.0.4' gem ' -sass' gem 'sprockets' group :development, :test do gem 'sqlite3', '1.3.8' gem 'rspec-rails', '2.13.1' end group :test do gem 'selenium-webdriver', '2.35.1' gem 'capybara', '2.1.0' end gem 'sass-rails', '4.0.1' gem 'uglifier', '2.1.1' gem 'coffee-rails', '4.0.1' gem 'jquery-rails', '3.0.4' gem 'turbolinks', '1.1.1' gem 'jbuilder', '1.0.2' group :doc do gem 'sdoc', '0.3.20', require: false end group :production do gem 'pg', '0.15.1' gem 'rails_12factor', '0.0.2' end      and lastly application.html.erb      !doctype html   html       head           title  %= full_title(yield(:title)) %  /title           %= stylesheet_link_tag "application", media: "all", "data-turbolinks-track" =  true %           %= javascript_include_tag "application", "data-turbolinks-track" =  true %           !--[if lt ie 9]           script src=" "  /script           ![endif]--       /head       body           header class="navbar navbar-fixed-top navbar-inverse"               div class="navbar-inner"                   div class="container"                       %= link_to "sample app", '#', id: "logo" %                       nav                           ul class="nav pull-right"                               li  %= link_to "home", '#' %  /li                               li  %= link_to "help", '#' %  /li                               li  %= link_to "sign in", '#' %  /li                           /ul                       /nav                   /div               /div           /header           div class="container"               %= yield %           /div       /body   /html     