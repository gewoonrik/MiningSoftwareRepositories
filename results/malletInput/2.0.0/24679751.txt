conditional resource loading with htmlunit (via play's withbrowser)  i have a web application written in play 2.0 and have automated tests that use withbrowser for functional testing (   ).    the web app uses a responsive layout through  , and in order to deal with xss issues on ie8, we had to add browser-specific code to a page:         i run the automated tests using the default browser, htmlunit. when the tests run, htmlunit seems to include the scripts and the tests fail with an error. is there a way to get htmlunit to treat the ie-only snippet as a comment, and not execute the scripts in that section?  