using gmaps4rails: failed to execute 'write' on 'document' error  so, i must admit i'm a newbie to rails, so i fear i might be missing something extremely obvious, but i keep getting error messages with the gmaps4rails gem. looking around, i can't find this problem anywhere so i think i've forgotten something so fundamentally important that no-one else seems to have this issue.     i know i'm close because whenever i refresh the page the whole thing magically works, so, i know its an issue of timing. i'm also using  , if that helps.    the error message i keep getting is:    failed to execute 'write' on 'document': it isn't possible to write into a document from an asynchronously-loaded external script unless it is explicitly opened.     view code:       strong map: /strong   div id="map-canvas"/  /div      % content_for :scripts do %   script src="//maps.google.com/maps/api/js?v=3.13 amp;sensor=false amp;libraries=geometry" type="text/javascript"  /script   script src='//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js' type='text/javascript'  /script   script type="text/javascript"     handler = gmaps.build('google');   handler.buildmap({ provider: {}, internal: {id: 'map-canvas'}}, function(){     markers = handler.addmarkers( %= raw @hash.to_json % )     handler.bounds.extendwith(markers);     handler.fitmaptobounds();   });  /script    % end %        application.html.erb code:      body    ul class="nav nav-tabs"     li  %= link_to 'services', services_path %  /li     li  %= link_to 'users', users_path %  /li     li  %= link_to 'sign in', user_sessions_new_path %  /li     li  %= link_to "log out", logout_path, method: :delete %  /li     li you are signed in as :  %= session[:username] %  /li   /ul    %= yield %   %= yield :scripts %   /body       controller code:     def index     @services = service.all     @hash = gmaps4rails.build_markers(@services) do |service, marker|       marker.lat service.lat       marker.lng service.long     end   end      so, some of the things i have tried, have included:      including 'callback=initialize' into the google maps api script, and subsequently calling onload after the page has loaded.   putting the scripts in just about every place you could imagine      and a fair few others from around the internet, but none of them work, sigh. please advise.  