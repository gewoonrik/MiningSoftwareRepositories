loading google map into   modal  inserting a google map into a   modal is giving me the 'gray box' result, and i don't see the issue.    i thought i'd fire the model('show'), then load the map on('shown') to avoid the conflicts talked about here  showing a google map in a modal created with          any help greatly appreciated     head elements  script src=" "  /script   script type="text/javascript" src="js/jquery-1.7.2.min.js"  /script   script src="js/ .min.js"  /script  !--  - -v2.3.1-2-g37d0a30 --   html           div class='country'               h3 denmark /h3               div id='123456' class='record'  !-- dynamic - id=recid in functions --                   div class="contactinfo"                       div class="embname"                           em danish embassy in washington d.c., united states /em                       /div                       div class="embaddr" 3200 whitehaven st. br n.w. 20008-3683  br  /div                       strong tel:  /strong  span class="phone" +1 (202) 234-4300 /span  br                       strong fax:  /strong +1 (202) 328-1470 br                       strong e-mail:  /strong  span class="email" wasamb@um.dk /span  br                       strong website:  /strong  span class="website"                       strong details:  /strong  span class="details" n/a /span  br                       strong hours:  /strong  span class="hours" 8:30 am - 4:00 pm(friday 3:30 pm) /span                   /div                   div class='media'                       a href='javascript:void(0);' onclick='openemaildialog( "123456" )' email /a  |                       a href='javascript:void(0);' onclick='openmap( "123456" )' map-it /a  |                       a href='javascript:void(0);' onclick='openupdatedialog( "123456" )' update /a  br                       div id="media_123456" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="mymodallabel" aria-hidden="true"  /div                   /div               /div  !-- end record --           /div  !-- end country --       javascript         // encode function     function htmlescape(str) {         return string(str)                 .replace(/ /g, ' amp;')                 .replace(/"/g, ' quot;')                 .replace(/'/g, ' #39;')                 .replace(/ /g, ' lt;')                 .replace(/ /g, ' gt;')                 .replace(/ /g,'+');     }      function openmap( recid ) {          $( '#media_'+recid ).html( ' div class="modal-header" '+                 ' button type="button" class="close" data-dismiss="modal" aria-hidden="true" ã— /button '+                 ' h3 id="mymodallabel" embassy location /h3 '+                 ' /div  div id=box_'+recid+'  /div ' );         $( '#media_'+recid ).css( { 'height':'400px', 'width':'600px' } );         $( '#box_'+recid ).css( { 'height':'100%', 'width':'100%' } );          // activate the modal before loading it with the map         $( '#media_'+recid ).modal( 'show' );          // capture the content and strip it of html, then encode it         var embaddr = $.trim( $( '#'+recid+' .contactinfo .embaddr' ).text().replace( /[\s\xa0]{2,}/g, ' ' ) );         embaddr = htmlescape(embaddr);          console.log( embaddr );              var geocoder = new google.maps.geocoder();             geocoder.geocode( { 'address': embaddr}, function(results, status) {                 if (status == google.maps.geocoderstatus.ok) {                      // i thought this would wait for the modal('show') to load completely before firing                     $( '#media_'+recid ).on('shown', function () {                         var latitude = results[0].geometry.location.lat() ;                         var longitude = results[0].geometry.location.lng();                          console.log( 'lat: ',latitude,' long: ',longitude );                          var mapoptions = {                             zoom: 7,                             center: new google.maps.latlng( latitude+','+longitude ),                             maptypeid: google.maps.maptypeid.roadmap                         }                         var map = new google.maps.map(document.getelementbyid( "box_"+recid ), mapoptions);                          var marker = new google.maps.marker({                             map: map,                             position: results[0].geometry.location                         })                      })              } else {                 $( '#media_'+recid ).html( 'could not find this location from the address given. p '+embaddr+' /p ' );                 $( '#media_'+recid ).modal( 'show' );             }         })     }    