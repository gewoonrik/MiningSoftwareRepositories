  in cms - error with script generating navigation  i am creating a site that runs in the     framework. the end result i am working towards is a site that has mobile swipe functionality between pages. to achieve this, i created "pages" inside the   carousel and am also using jquery mobile to enable swipe. i am using the javascript found in this example -     - to create the links in my navigation.    the issue i am having is in the scripting.. my navigation does not generate the links when i place this code in my cms, drupal. when i save the generated page source and run the file from either another host (outside of any cms) or when i run the file from my local system, everything generates and runs perfectly. i have limited access to the cms meaning i cannot change the doctype from strict or add any data to the head.    so, my question is this: why is this happening? the generated page source is below (minus page analytics code from omniture).                  !doctype html public "-//w3c//dtd xhtml 1.0 strict//en" " "               html xmlns=" "               head               meta http-equiv="content-type" content="text/html; charset=utf-8" /               meta http-equiv="x-ua-compatible" content="ie=edge" /               title test /title               /head               body                meta charset="utf-8" /               meta name="viewport" content="width=device-width, initial-scale=1.0" /                !-- styles --               link href="http:// .github.com/ /assets/css/ .css" rel="stylesheet" /               link href="http:// .github.com/ /assets/css/ -responsive.css" rel="stylesheet" /                style               /* global styles             -------------------------------------------------- */             /* padding below the footer and lighter body text */              body {              padding-bottom: 40px;              color: #5a5a5a;              color: #fff;              background-color:#96232d;              background:#96232d;              font-family: "pt sans";             }             h1, h2, h3{font-style: italic}             .red_gradient {              background: #ce4d4a; /* old browsers */              background: -moz-linear-gradient(top,  #ce4d4a 0%, #96232d 100%); /* ff3.6+ */              background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#ce4d4a), color-stop(100%,#96232d)); /* chrome,safari4+ */              background: -webkit-linear-gradient(top,  #ce4d4a 0%,#96232d 100%); /* chrome10+,safari5.1+ */              background: -o-linear-gradient(top,  #ce4d4a 0%,#96232d 100%); /* opera 11.10+ */              background: -ms-linear-gradient(top,  #ce4d4a 0%,#96232d 100%); /* ie10+ */              background: linear-gradient(to bottom,  #ce4d4a 0%,#96232d 100%); /* w3c */              filter: progid:dximagetransform.microsoft.gradient( startcolorstr='#ce4d4a', endcolorstr='#96232d',gradienttype=0 ); /* ie6-9 */              position: relative;             }               .btn-renew {              color: #ffffff;              text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.3);              background-color: #006dcc;              *background-color: #ce4d4a;              background-image: -moz-linear-gradient(top, #ce4d4a, #96232d);              background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#ce4d4a), to(#96232d));              background-image: -webkit-linear-gradient(top, #ce4d4a, #96232d);              background-image: -o-linear-gradient(top, #ce4d4a, #96232d);              background-image: linear-gradient(to bottom, #ce4d4a, #96232d);              background-repeat: repeat-x;              border-color: #96232d;              padding-left: 50px;              padding-right: 50px;             }              .btn-renew:hover,             .btn-renew:active,             .btn-renew.active,             .btn-renew.disabled,             .btn-renew[disabled] {              color: #ffffff;              background-color: #96232d;              *background-color: #ce4d4a;             }              .btn-renew:active,             .btn-renew.active {              background-color: #ce4d4a;             }              .text_center{text-align: center; background}              .green_stripe {height: 10px; background-color: #004e26; border-top: 2px solid #fff; border-bottom: 2px solid #fff; margin-bottom: 30px; width: 100%;}              /* customize the navbar             -------------------------------------------------- */              /* special class on .container surrounding .navbar, used for positioning it into place. */             .navbar-wrapper {              position: absolute;              top: 0;              left: 0;              right: 0;              z-index: 10;              margin-top: 20px;              margin-bottom: -90px; /* negative margin to pull up carousel. 90px is roughly margins and height of navbar. */             }             .navbar-wrapper .navbar {              }              /* remove border and change up box shadow for more contrast */             .navbar .navbar-inner {              border: 0;              -webkit-box-shadow: 0 2px 10px rgba(0,0,0,.25);                 -moz-box-shadow: 0 2px 10px rgba(0,0,0,.25);                      box-shadow: 0 2px 10px rgba(0,0,0,.25);                      background: rgba(255,255,255,.4);             }              /* downsize the brand/project name a bit */             .navbar .brand {              padding: 14px 20px 16px; /* increase vertical padding to match navbar links */              font-size: 16px;              font-weight: bold;              text-shadow: 0 -1px 0 rgba(0,0,0,.5);             }              /* navbar links: increase padding for taller navbar */             .navbar .nav   li   a {              padding: 15px 20px;              font-size: 18px;              font-family: 'oswald';              letter-spacing: 1px;              font-weight: 300;             }              /* offset the responsive button for proper vertical alignment */             .navbar .btn-navbar {              margin-top: 10px;              margin-bottom: 10px;             }               /* customize the navbar             -------------------------------------------------- */              /* carousel base class */             .carousel {              margin-bottom: 0px;             }              .carousel .container {              position: relative;              z-index: 9;             }              .carousel-control {              height: 80px;              margin-top: 0;              font-size: 120px;              text-shadow: 0 1px 1px rgba(0,0,0,.4);              background-color: transparent;              border: 0;             }              .carousel .item .container.header{              height: 600px;             }             .carousel img.header_image {              position: absolute;              top: 0;              left: 0;              min-width: 100%;              min-height: 600px;              opacity: 1;             }              .carousel-caption {              background-color: transparent;              position: static;              max-width: 550px;              padding: 0 20px;              margin-top: 200px;             }             .carousel-caption h1,             .carousel-caption .lead {              margin: 0;              line-height: 1.25;              color: #fff;              text-shadow: 0 1px 1px rgba(0,0,0,.4);             }             .carousel-caption .btn {              margin-top: 10px;             }                /* responsive css             -------------------------------------------------- */              @media (max-width: 979px) {               .container.navbar-wrapper {                margin-bottom: 0;                width: auto;              }              .navbar-inner {                border-radius: 0;                margin: -20px 0;              }               .carousel .item .container.header{                height: 600px;              }              .carousel img.header_image {                height: auto;              }               .featurette {                height: auto;                padding: 0;              }              .featurette-image.pull-left,              .featurette-image.pull-right {                display: block;                float: none;                max-width: 40%;                margin: 0 auto 20px;              }             }               @media (max-width: 767px) {               .navbar-inner {                margin: -20px auto;                padding: auto 0;              }               .carousel {                margin-left: -20px;                margin-right: -20px;              }              .carousel .container {               }              .carousel .item .container.header{               height: auto;               min-height: 400px;               }              .carousel img.header_image {                height: auto;                max-height: auto;                min-height: auto;                min-width: 600px              }              .carousel-caption {                width: 65%;                padding: 0 70px;                margin-top: 100px;              }              .carousel-caption h1 {                font-size: 30px;              }              .carousel-caption .lead,              .carousel-caption .btn {                font-size: 18px;              }               .marketing .span4 + .span4 {                margin-top: 40px;              }               .featurette-heading {                font-size: 30px;              }              .featurette .lead {                font-size: 18px;                line-height: 1.5;              }              .btn-renew {              padding-left: 20px;              padding-right: 20px;              }              }              /style                !-- html5 shim, for ie6-8 support of html5 elements --               !--[if lt ie 9]                script src=" "  /script               ![endif]--                link href='  rel='stylesheet' type='text/css' /               link href='  rel='stylesheet' type='text/css' /               !-- fav and touch icons --               link rel="apple-touch-icon-precomposed" sizes="144x144" href="http:// .github.com/ /assets/ico/apple-touch-icon-144-precomposed.png" /               link rel="apple-touch-icon-precomposed" sizes="114x114" href="http:// .github.com/ /assets/ico/apple-touch-icon-114-precomposed.png" /               link rel="apple-touch-icon-precomposed" sizes="72x72" href="http:// .github.com/ /assets/ico/apple-touch-icon-72-precomposed.png" /               link rel="apple-touch-icon-precomposed" href="http:// .github.com/ /assets/ico/apple-touch-icon-57-precomposed.png" /                !-- navbar             ================================================== --               div class="navbar-wrapper"                !-- wrap the .navbar in .container to center it within the absolutely positioned parent. --                div class="container"                   div class="navbar navbar-inverse"                    div class="navbar-inner"                      !-- responsive navbar part 1: button for triggering responsive navbar (not covered in tutorial). include responsive css to utilize. --                      a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"                        span class="icon-bar"  /span                        span class="icon-bar"  /span                        span class="icon-bar"  /span                      /a                    /div  !-- /.navbar-inner --                  /div  !-- /.navbar --                 /div   !-- /.container --               /div  !-- /.navbar-wrapper --                  !-- carousel             ================================================== --               div id="headercarousel" class="carousel slide"                div class="carousel-inner"                  div class="item active" data-title="home"                  img class="header_image" src=" " alt="" /                      div class="container header"                      div class="carousel-caption"                        h1  nbsp nbsptext text,  br /  nbsptext text br / text text... /h1                        !-- p class="lead" cras justo odio, dapibus ac facilisis in, egestas eget quam. donec id elit non mi porta gravida at eget metus. nullam id dolor id nibh ultricies vehicula ut id elit. /p --                      /div                      /div                   div class="red_gradient"                   div class="row-fluid green_stripe"  /div                  div class="container"                      div class="row-fluid"                      div class="span6"                          h1 home /h1                          p lorem ipsum dolor sit amet, maiores ornare ac fermentum, imperdiet ut vivamus a, nam lectus at nunc. quam euismod sem, semper ut potenti pellentesque quisque. in eget sapien sed, sit duis vestibulum ultricies, placerat morbi amet vel, nullam in in lorem vel. in molestie elit dui dictum, praesent nascetur pulvinar sed, in dolor pede in aliquam, risus nec error quis pharetra. eros metus quam augue suspendisse, metus rutrum risus erat in.  in ultrices quo ut lectus, etiam vestibulum urna a est, pretium luctus euismod nisl, pellentesque turpis hac ridiculus massa. venenatis a taciti dolor platea, curabitur lorem platea urna odio, convallis sit pellentesque lacus  proin. et ipsum velit diam nulla, fringilla vel tincidunt vitae, elit turpis tellus vivamus, dictum adipiscing convallis magna id. viverra eu amet sit, dignissim tincidunt volutpat nulla tincidunt, feugiat est erat dui tempor, fusce tortor auctor vestibulum. venenatis praesent risus orci, ante nam volutpat erat. cursus non mollis interdum maecenas, consequat imperdiet penatibus enim, tristique luctus tellus eos accumsan, ridiculus erat laoreet nunc. /p                      /div                      /div                  /div                  /div                   /div                  div class="item" data-title="page 2"                    img class="header_image" src=" " alt="" /                      div class="container header"                      div class="carousel-caption"                        h1  nbsp nbsptext text,  br /  nbsptext text br / text text... /h1                        !-- p class="lead" cras justo odio, dapibus ac facilisis in, egestas eget quam. donec id elit non mi porta gravida at eget metus. nullam id dolor id nibh ultricies vehicula ut id elit. /p --                      /div                      /div                   div class="red_gradient"                   div class="row-fluid green_stripe"  /div                  div class="container"                      div class="row-fluid"                      div class="span6"                          h1 page 2 /h1                          p lorem ipsum dolor sit amet, maiores ornare ac fermentum, imperdiet ut vivamus a, nam lectus at nunc. quam euismod sem, semper ut potenti pellentesque quisque. in eget sapien sed, sit duis vestibulum ultricies, placerat morbi amet vel, nullam in in lorem vel. in molestie elit dui dictum, praesent nascetur pulvinar sed, in dolor pede in aliquam, risus nec error quis pharetra. eros metus quam augue suspendisse, metus rutrum risus erat in.  in ultrices quo ut lectus, etiam vestibulum urna a est, pretium luctus euismod nisl, pellentesque turpis hac ridiculus massa. venenatis a taciti dolor platea, curabitur lorem platea urna odio, convallis sit pellentesque lacus  proin. et ipsum velit diam nulla, fringilla vel tincidunt vitae, elit turpis tellus vivamus, dictum adipiscing convallis magna id. viverra eu amet sit, dignissim tincidunt volutpat nulla tincidunt, feugiat est erat dui tempor, fusce tortor auctor vestibulum. venenatis praesent risus orci, ante nam volutpat erat. cursus non mollis interdum maecenas, consequat imperdiet penatibus enim, tristique luctus tellus eos accumsan, ridiculus erat laoreet nunc. /p                      /div                      /div                  /div                  /div                   /div                  div class="item" data-title="page 3"                    img class="header_image" src=" " alt="" /                      div class="container header"                      div class="carousel-caption"                        h1  nbsp nbsptext text,  br /  nbsptext text br / text text... /h1                        !-- p class="lead" cras justo odio, dapibus ac facilisis in, egestas eget quam. donec id elit non mi porta gravida at eget metus. nullam id dolor id nibh ultricies vehicula ut id elit. /p --                      /div                      /div                   div class="red_gradient"                   div class="row-fluid green_stripe"  /div                  div class="container"                      div class="row-fluid"                      div class="span6"                          h1 page 3 /h1                          p lorem ipsum dolor sit amet, maiores ornare ac fermentum, imperdiet ut vivamus a, nam lectus at nunc. quam euismod sem, semper ut potenti pellentesque quisque. in eget sapien sed, sit duis vestibulum ultricies, placerat morbi amet vel, nullam in in lorem vel. in molestie elit dui dictum, praesent nascetur pulvinar sed, in dolor pede in aliquam, risus nec error quis pharetra. eros metus quam augue suspendisse, metus rutrum risus erat in.  in ultrices quo ut lectus, etiam vestibulum urna a est, pretium luctus euismod nisl, pellentesque turpis hac ridiculus massa. venenatis a taciti dolor platea, curabitur lorem platea urna odio, convallis sit pellentesque lacus  proin. et ipsum velit diam nulla, fringilla vel tincidunt vitae, elit turpis tellus vivamus, dictum adipiscing convallis magna id. viverra eu amet sit, dignissim tincidunt volutpat nulla tincidunt, feugiat est erat dui tempor, fusce tortor auctor vestibulum. venenatis praesent risus orci, ante nam volutpat erat. cursus non mollis interdum maecenas, consequat imperdiet penatibus enim, tristique luctus tellus eos accumsan, ridiculus erat laoreet nunc. /p                      /div                      /div                  /div                  /div                   /div                /div                a class="left carousel-control" href="#headercarousel" data-slide="prev"  lsaquo; /a                a class="right carousel-control" href="#headercarousel" data-slide="next"  rsaquo; /a               /div  !-- /.carousel --               /div                !-- /.container --                  !-- javascript             ================================================== --               !-- placed at the end of the document so the pages load faster --               script src="http:// .github.com/ /assets/js/jquery.js"  /script               script src="http:// .github.com/ /assets/js/ -transition.js"  /script               script src="http:// .github.com/ /assets/js/ -alert.js"  /script               script src="http:// .github.com/ /assets/js/ -modal.js"  /script               script src="http:// .github.com/ /assets/js/ -dropdown.js"  /script               script src="http:// .github.com/ /assets/js/ -scrollspy.js"  /script               script src="http:// .github.com/ /assets/js/ -tab.js"  /script               script src="http:// .github.com/ /assets/js/ -tooltip.js"  /script               script src="http:// .github.com/ /assets/js/ -popover.js"  /script               script src="http:// .github.com/ /assets/js/ -button.js"  /script               script src="http:// .github.com/ /assets/js/ -collapse.js"  /script               script src="http:// .github.com/ /assets/js/ -carousel.js"  /script               script src="http:// .github.com/ /assets/js/ -typeahead.js"  /script                  script src=" "  /script                script type="text/javascript" charset="utf-8"               !function ($) {                $(function(){                  // carousel demo                  $('#headercarousel').carousel({                            interval: false                        })                })              }(window.jquery)              /script                 script type="text/javascript" charset="utf-8"              $(document).ready(function() {                 $("#headercarousel").swiperight(function() {                    $("#headercarousel").carousel('prev');                  });                 $("#headercarousel").swipeleft(function() {                    $("#headercarousel").carousel('next');                 });             });              /script                script type="text/javascript" charset="utf-8"              $(document).ready(function() {                  $('.carousel[id]').each(function() {                    var html = ' div class="nav-collapse collapse" data-target="' + $(this).attr('id') + '"  ul class="nav" ';                        for(var i = 0; i   $(this).find('.item').size(); i ++) {                            html += ' li';                                if(i == 0) {                                    html += ' class="active"';                                }                                var item = $(this).find('.item').get(i);                                    html += '  a href="#" '  + $(item).attr('data-title') + ' /a  /li ';                                }                                                                    html += ' /ul  /li ';                                $('.btn-navbar').after(html);                                $('.carousel-control.left[href="#' + $(this).attr('id') + '"]').hide();                     }).bind('slid', function(e) {                        var nav = $('.nav-collapse[data-target="' + $(this).attr('id') + '"] ul');                        var index = $(this).find('.item.active').index();                        var item = nav.find('li').get(index);                         nav.find('li.active').removeclass('active');                        $(item).find('li').addclass('active');                         var nav = $('.carousel-nav[data-target="' + $(this).attr('id') + '"] ul');                        var index = $(this).find('.item.active').index();                        var item = nav.find('li').get(index);                        nav.find('li a.active').removeclass('active');                        $(item).find('a').addclass('active');                         if(index == 0) {                            $('.carousel-control.left[href="#' + $(this).attr('id') + '"]').fadeout();                        } else {                            $('.carousel-control.left[href="#' + $(this).attr('id') + '"]').fadein();                        }                         if(index == nav.find('li').size() - 1) {                            $('.carousel-control.right[href="#' + $(this).attr('id') + '"]').fadeout();                        } else {                            $('.carousel-control.right[href="#' + $(this).attr('id') + '"]').fadein();                        }                     });                     $('.nav a').bind('click', function(e) {                        var index = $(this).parent().index();                        var carousel = $('#' + $(this).closest('.nav-collapse').attr('data-target'));                         carousel.carousel(index);                        e.preventdefault();                    });             });                /script                /body               /html       update --- i found that the generated page source form drupal modifies the script to this:                   script type="text/javascript" charset="utf-8"              $(document).ready(function() {                  $('.carousel[id]').each(function() {                    //for each carousel on the page, create this html                    var html = ' div class="nav-collapse collapse" data-target="' + $(this).attr('id') + '"  ul class="nav" ';                        for(var i = 0; i  lt; $(this).find('.item').size(); i ++) {                            html += ' li';                                if(i == 0) {                                    html += ' class="active"';                                }                                var item = $(this).find('.item').get(i);                                    html += '  a href="#" '  + $(item).attr('data-title') + ' /a ';              ////error should be html += '  a href="#" '  + $(item).attr('data-title') + ' /a  /li ';                                }                                                                    html += ' /li';  /ul ';                                                          ////error should be html += ' /ul  /li ';                                $('.btn-navbar').after(html);                                $('.carousel-control.left[href="#' + $(this).attr('id') + '"]').hide();                     }).bind('slid', function(e) {                        var nav = $('.nav-collapse[data-target="' + $(this).attr('id') + '"] ul');                        var index = $(this).find('.item.active').index();                        var item = nav.find('li').get(index);                         nav.find('li.active').removeclass('active');                        $(item).find('li').addclass('active');                         var nav = $('.carousel-nav[data-target="' + $(this).attr('id') + '"] ul');                        var index = $(this).find('.item.active').index();                        var item = nav.find('li').get(index);                        nav.find('li a.active').removeclass('active');                        $(item).find('a').addclass('active');                         if(index == 0) {                            $('.carousel-control.left[href="#' + $(this).attr('id') + '"]').fadeout();                        } else {                            $('.carousel-control.left[href="#' + $(this).attr('id') + '"]').fadein();                        }                         if(index == nav.find('li').size() - 1) {                            $('.carousel-control.right[href="#' + $(this).attr('id') + '"]').fadeout();                        } else {                            $('.carousel-control.right[href="#' + $(this).attr('id') + '"]').fadein();                        }                     });                     $('.nav a').bind('click', function(e) {                        var index = $(this).parent().index();                        var carousel = $('#' + $(this).closest('.nav-collapse').attr('data-target'));                         carousel.carousel(index);                        e.preventdefault();                    });             });                /div  /script                                                                                      ////error added  /div       does anyone know why it would remove the list elements and add in a div tag? or if there is a better way of coding this section so that it does not get modified.  